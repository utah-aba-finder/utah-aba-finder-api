<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h2>Password Changed Notification</h2>
    
    <p>This is an automated notification that a user has changed their password.</p>
    
    <table style="border-collapse: collapse; width: 100%; max-width: 600px;">
      <tr>
        <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background-color: #f5f5f5;">User Email:</td>
        <td style="padding: 8px; border: 1px solid #ddd;"><%= @user.email %></td>
      </tr>
      <tr>
        <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background-color: #f5f5f5;">User ID:</td>
        <td style="padding: 8px; border: 1px solid #ddd;"><%= @user.id %></td>
      </tr>
      <% if @provider %>
      <tr>
        <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background-color: #f5f5f5;">Provider:</td>
        <td style="padding: 8px; border: 1px solid #ddd;"><%= @provider.name %></td>
      </tr>
      <tr>
        <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background-color: #f5f5f5;">Provider ID:</td>
        <td style="padding: 8px; border: 1px solid #ddd;"><%= @provider.id %></td>
      </tr>
      <% else %>
      <tr>
        <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background-color: #f5f5f5;">Provider:</td>
        <td style="padding: 8px; border: 1px solid #ddd;">No provider linked</td>
      </tr>
      <% end %>
      <tr>
        <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background-color: #f5f5f5;">Changed At:</td>
        <td style="padding: 8px; border: 1px solid #ddd;"><%= Time.current.strftime("%B %d, %Y at %I:%M %p %Z") %></td>
      </tr>
    </table>
    
    <p style="margin-top: 20px; color: #666; font-size: 12px;">
      This is an automated notification from the Autism Services Locator system.
    </p>
  </body>
</html>

